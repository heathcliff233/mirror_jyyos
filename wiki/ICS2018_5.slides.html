<html>
  <Head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    
<link rel="stylesheet" href="../static/css/bootstrap.min.css"/>
<link rel="stylesheet" href="../static/css/bootstrap-theme.min.css"/>


    <link rel="stylesheet" href="../static/css/fonts/crmison.css"/>
    <link rel="stylesheet" href="../static/css/fonts/fira_code.css"/>
    <link rel="stylesheet" href="../static/css/fonts/ptsans.css"/>
    <link rel="stylesheet" href="../static/css/katex.min.css"/>
    <link rel="stylesheet" href="../static/css/wiki.css"/>
    <link rel="stylesheet" href="../static/css/codehilite.css"/>

    <script src="../static/js/jquery.min.js"></script>
    <script src="../static/js/bootstrap.bundle.min.js"></script>
    <script src="../static/js/katex.min.js"></script>
    
<link rel="stylesheet" href="../static/css/wiki.css"/>
<link rel="stylesheet" href="../static/css/slides.css"/>


    <title>Lab1/PA2é€‰è®²</title>
  </Head>
  <body>
   
   
<textarea id="source">
public: True
class: center, middle

# Lab1/PA2é€‰è®²

è’‹ç‚å²© <jyy@nju.edu.cn>

å—äº¬å¤§å­¦è®¡ç®—æœºè½¯ä»¶ç ”ç©¶æ‰€

---

# æ¦‚è¿°

è¿›å…¥å­¦æœŸçš„ä¸­æ®µ

* ä¸­ç§‹å°é•¿å‡ã€åä¸€é•¿å‡
* æ²‰è¿·å­¦ä¹ ï¼›åšä½œä¸šã€OJã€PAï¼›è¿›ç»„æ¬ç –
* ä¹ŸåŒæ—¶è¿›å…¥ç¤¾å›¢/æ¸¸æˆ/æ‹çˆ±â€œæ¾æ‡ˆæœŸâ€

----

.red[PA2 (çœŸæ­£çš„x86æ¨¡æ‹Ÿå™¨)æ¥å•¦ï¼]

- PA1ä¸­æ¡†æ¶ä»£ç çš„ä¸€äº›è¡¥å……
- PA2æŒ‡ä»¤è§£é‡Šéƒ¨åˆ†ä»£ç æ¡†æ¶å¯¼è¯»

---

class: center, middle

# Lab1

---

# è®¡ç®—`(a * b) % m`

ä¸ºä»€ä¹ˆè¿™æ®µä»£ç ä¸èƒ½æ­£ç¡®è®¡ç®—`(a * b) % m`ï¼Ÿ

```c
int64_t multmod(int64_t a, int64_t b, int64_t m) {
  assert(a >= 0 && b >= 0 && m > 0);
  return (a * b) % m; // Integer Overflow is UB!
}
```

é¦–å…ˆï¼Œè¿™æ®µä»£ç é‡Œæœ‰UBï¼Œä½†æˆ‘ä»¬çœ‹çœ‹ç¼–è¯‘å™¨ç¼–è¯‘æˆäº†ä»€ä¹ˆ

```bash
   0:	48 89 f8       mov    %rdi,%rax
   3:	48 89 d1       mov    %rdx,%rcx
   6:	48 0f af c6    imul   %rsi,%rax
   a:	48 99          cqto
   c:	48 f7 f9       idiv   %rcx
   f:	48 89 d0       mov    %rdx,%rax
  12:	c3             retq   
```

---

# æ±‡ç¼–ä»£ç ï¼Ÿ

åœ¨è¯¾ç¨‹ä¸­å·²ç»å¤šæ¬¡å‡ºç°â€œçœ‹çœ‹æ±‡ç¼–ä»£ç â€äº†

- .red[å¦‚ä½•è·å–äºŒè¿›åˆ¶æ–‡ä»¶çš„æ±‡ç¼–ä»£ç ]ï¼Ÿ
- æˆ‘.red[æ€ä¹ˆçŸ¥é“è¿™äº›ç©æ„æ˜¯ä»€ä¹ˆæ„æ€]ï¼Ÿ
  - x86æ‰‹å†Œå¤ªé•¿ï¼Œæˆ‘çš„æ—¶é—´å¤ªçŸ­
  - x86-64æ‰‹å†Œæ›´é•¿ï¼Œæ ¹æœ¬æ¥ä¸åŠè¯»äº†å•Š

--

count: false

------

åšä¿¡ï¼šæˆ‘çš„ç–‘æƒ‘åˆ«äººæ—©å°±æœ‰è¿‡ä¸€ä¸‡éäº†

- å½“ç„¶æœ‰æ›´å¥½è¯»çš„æ–‡æ¡£ï¼šä»‹ç»äº†ABIã€æŒ‡ä»¤ç­‰é‡è¦çŸ¥è¯†
- RTFMä¹‹å‰ï¼šé˜…è¯»[æœ¬åœ°å‰¯æœ¬](/static/wiki/ics/asm64-handout.pdf)
  - ä»…46é¡µï¼Œæ¶µç›–äº†å‡ åƒé¡µæ‰‹å†Œä¸­çš„æœ€åŸºç¡€å†…å®¹
  - é¢å£åæ€ï¼š.red[æˆ‘ä¹‹å‰çœ‹è¿‡è¿™ä¸ªæ–‡æ¡£å—ï¼Ÿ]

---

# æ±‡ç¼–ä»£ç è§£æ

```
   0:	48 89 f8       mov    %rdi,%rax // %rax(a)
   3:	48 89 d1       mov    %rdx,%rcx // %rcx(m)
   6:	48 0f af c6    imul   %rsi,%rax // -> %rdx:%rax
   a:	48 99          cqto   // %rdx:%rax <- SignExt(%rax)
   c:	48 f7 f9       idiv   %rcx      // %rdx:%rax mod m
   f:	48 89 d0       mov    %rdx,%rax
  12:	c3             retq   
```

------

ä»æŒ‡ä»¤çš„è§’åº¦ï¼Œæ²¡æœ‰ä»»ä½•UB

- æŒ‰ç…§ç¬¦å·æ‰©å±•`a * b`çš„ä½64ä½ (å…¶å®x86-64æ˜¯æ”¯æŒ128ä½è¿ç®—çš„)
- æ‰§è¡Œé™¤`m`çš„æ“ä½œå¾—åˆ°ä½™æ•°
- .red[é‚£è¿™æ®µä»£ç é”™å“ªäº†]ï¼Ÿ

---

# è®¡ç®—`(a * b) % m`

å‡è®¾æ•´æ•°ä¹˜æ³•æº¢å‡ºæ²¡æœ‰UB

- ä¹˜æ³•çš„ç»“æœæŒ‰ç…§128ä½ä¹˜æ³•å–ä½64ä½
- å¯èƒ½å‡ºç°.red[æ­£æ­£å¾—è´Ÿ]ï¼Œä»¥åŠå¤šå‡ºçš„.red[æ¨¡2^64]è¿ç®—
  - `(3 * 7) % 8 % 5 = 0`
  - `(3 * 7) % 5 = 1`

------

ä¸ºäº†å®ç°`a * b % m`ï¼Œä¸­é—´ç»“æœéœ€è¦128ä½æ•´æ•°æ‰èƒ½å­˜å‚¨

---

# é—®é¢˜1ï¼šæŠŠå®ƒæå¯¹

è¿™å¥½åŠï¼šå®ç°ä¸€ä¸ªBigIntå°±è¡Œäº†

<br>

<br>

ç•™ä½œä¹ é¢˜å•¦(å°å­¦ç”Ÿéƒ½ä¼šå†™)

* é™¤æ³•å¾ˆéº»çƒ¦

---

# é—®é¢˜2ï¼šå¿«é€Ÿè®¡ç®—

å‡è®¾`b >= 0`å†™æˆäºŒè¿›åˆ¶æ˜¯`b = b[62]*2^62 + ... + b[0]*2^0`ã€‚

`a * b`å¯ä»¥å†™æˆå¦ä¸€ä¸ªå½¢å¼ï¼š

```
a * b = a*b[62]*2^62 + a*b[61]*2^61 + ... + a*b[0]*2^0
      = (b[62] == 1 ? a * 2^62 : 0) +
        (b[61] == 1 ? a * 2^61 : 0) + ...
        (b[ 0] == 1 ? a * 2^0  : 0)
```

æˆ‘ä»¬åªéœ€è¦çŸ¥é“`a`, `2a`, `4a`, ... mod mçš„ä½™æ•°å°±è¡Œäº†â€¦â€¦

ç”¨åˆ°çš„ä¸»è¦æ€§è´¨ï¼š`(a + b + c) % m = ((a + b) % m + c) % m` 

------

.red[æç¤º]ï¼š`2a = a + a; 4a = (2a + 2a); 8a = (4a + 4a)...`

---

# é—®é¢˜2ï¼šè¿è¡Œäº†å¤šä¹…ï¼Ÿ

çœ‹èµ·æ¥å¾ˆå®¹æ˜“å˜›ï¼š

```c
void run(int64_t a, int64_t b, int64_t m) {
  for (int i = 0; i < N; i++) {
    mult_mod(a, b, m);
  }
}
...
t1 = get_time();  run(a, b, m);  t2 = get_time();
printf("Time is: %.2lf\n", t2 - t1);
```

ç»“æœï¼šæ— è®ºNæ˜¯100ã€1,000è¿˜æ˜¯1,000,000,000ï¼Œæ—¶é—´éƒ½æ˜¯ä¸€æ ·çš„ï¼š

```
0000000000400510 <run>:
  400510:	f3 c3                	repz retq
```

- è§£å†³åŠæ³•ï¼š<font color="red">STFW</font>ï¼Œæ­¤å¤–æœ‰æ›´å¥½çš„åº¦é‡æ—¶é—´çš„åŠæ³•(ç²¾ç¡®åˆ°æ—¶é’Ÿå‘¨æœŸæ•°)

---

# é—®é¢˜3ï¼šç¥å¥‡çš„ä»£ç 

é˜…è¯»ä»£ç çš„æŠ€å·§

- â€œç›¯ç€çœ‹â€æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå…ˆ<font color="red">è¯•è¯•</font> (æ‹¿ä¸€äº›å¤§å€¼å¯¹æ¯”ä¸€ä¸‹)
- è¯•å›¾çœŸæ­£<font color="red">ç†è§£</font>ï¼šä»ä½ å®¹æ˜“ç†è§£çš„éƒ¨åˆ†å¼€å§‹
  - è¡¨è¾¾å¼å¦‚ä½•è§£æï¼Ÿæ¯ä¸€ä¸ªè¡¨è¾¾å¼çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ
  - æ¯ä¸€ä¸ªæ•°å€¼çš„å«ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ

------

```c
int64_t multmod_fast(int64_t a, int64_t b, int64_t m) {
  int64_t t = a * b -                        // Overflow
    (int64_t)((double)a * b / m + 1e-8) * m; // Overflow (??)
  return t < 0 ? t + m : t;
}
```

---

# ä¸€äº›Comments

å¦‚æœæˆ‘ä»¬å¸Œæœ›èƒ½å¯¹ä»»æ„çš„`uint64_t`çš„a, b, méƒ½æ­£ç¡®ï¼Œè¿™ä¸ªé—®é¢˜å°±æ²¡æœ‰é‚£ä¹ˆç®€å•äº†

------

STFW: [Montgomery multiplication](https://en.wikipedia.org/wiki/Montgomery_modular_multiplication)ï¼Œè¿™æ˜¯ä¸€ä¸ª<font color="red">ä¸¥è‚ƒçš„ç ”ç©¶é—®é¢˜</font>

- æ•°è®ºæ˜¯ç°ä»£å¯†ç å­¦çš„å¥ åŸºçŸ³
- å¾ˆå¤šåŠ å¯†ç®—æ³•éƒ½ä¾èµ–äºæ•°è®ºå‡½æ•°çš„æ€§è´¨
- ä¹˜æ³•å’Œå–æ¨¡æ˜¯éå¸¸å¸¸è§çš„æ“ä½œ

------

æç¤ºï¼šLab1ç¥å¥‡ç¨‹åºçš„æ­£ç¡®æ€§ä¾èµ–äº<font color="red">åŒä½™</font>

---

class: center, middle

# PA1

---

# å›åˆ°`init_monitor`

è¿è¡Œnemuï¼Œå³é‡åˆ°å‡ºé”™

```c
for (i = R_EAX; i <= R_EDI; i ++) {
  sample[i] = rand();
  reg_l(i) = sample[i];
  assert(reg_w(i) == (sample[i] & 0xffff));
 }
```

è¿™æ˜¯å•¥ç©æ„å•Šâ€¦â€¦.red[å¤§å®¶æ˜¯å¦‚ä½•ç†è§£è¿™é‡Œçš„ä»£ç çš„]ï¼Ÿ

--

count: false

----

æ‰‹å·¥å±•å¼€å®ï¼š

```c
cpu.gpr[R_EAX] = xxxxx;
assert(cpu.gpr[R_EAX]._16 == (xxxxx & 0xffff));
```

---

# ä»assertä¸­å¾—åˆ°.red[éœ€æ±‚]

`cpu.gpr`æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬å¸Œæœ›å…¶ä¸­æ¯ä¸€ä¸ªä¸œè¥¿`reg`

* `reg._32`æ˜¯ä¸ª32ä½æ•°<math>x</math>ï¼Œå¯ä»¥è¯»å†™
* è®¿é—®`reg._16`å¯¹åº”<math>x</math>çš„ä½16ä½
* è®¿é—®`reg._8[0], reg._8[1]`åˆ†åˆ«æ˜¯ä½16ä½ä¸­çš„ä¸¤ä¸ª8ä½

ä»¥åŠæ›´è¯¡å¼‚çš„`assert(sample[R_EAX] == cpu.eax)`

* `cpu.gpr[R_EAX]`å’Œ`cpu.eax`æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼
* å†™ä¸€ä¸ªï¼Œå¦ä¸€ä¸ªä¹Ÿè¦å˜

--

count: false

----

è´¹åŠ².red[åƒè¾›ä¸‡è‹¦]æ‰¾åˆ°ç­”æ¡ˆï¼Ÿè¿˜æ˜¯.red[æŠ±äº†å¤§è…¿]æ”¹äº†ä¸‰è¡Œï¼Ÿ

* ä¸å»ºè®®æŠ±å¤§è…¿çš„è¡Œä¸ºï¼Œè¿™æ ·ä¼šä½¿ä½ ä»¬å’Œå¤§è…¿çš„å·®è·è¶Šæ¥è¶Šå¤§

---

# PA1æ­£å¼å¼€å§‹

å‰©ä¸‹çš„å‡½æ•°(`load_img`, `restart`, ...)æ²¡æœ‰å¤ªå¤šé˜…è¯»çš„éšœç¢

æœ‰äº›ä¸å¤ªæ˜ç™½çš„ï¼Œæš‚æ—¶ä¹Ÿä¸è§£é‡Šäº†

éº»çƒ¦çš„æ˜¯`init_regex`â€¦â€¦

* è¡¨è¾¾å¼æ±‚å€¼â€¦â€¦

----

ä¹‹åå°±è¿›å…¥äº†`ui_mainloop`

* ç”¨`rl_gets()`è·å¾—å‘½ä»¤
* è§£é‡Šæ‰§è¡Œå‘½ä»¤
* ä¸»è¦éº»çƒ¦æ˜¯è§£æè¡¨è¾¾å¼å’Œæ±‚å€¼

---

class: center, middle

# PA2

---

# è¿›å…¥`cpu_exec(n)`

çœŸæ­£è¿›å…¥â€œæ¨¡æ‹Ÿè®¡ç®—æœºæ‰§è¡Œâ€äº†ã€‚åœ¨yemué‡Œï¼Œæˆ‘ä»¬å·²ç»æœ‰ä¸€ä¸ªè¿˜ä¸é”™çš„`execute`ï¼š

* æ¯æ¬¡ä»pcå¤„å–å‡ºæŒ‡ä»¤
* æ ¹æ®æŒ‡ä»¤çš„ç±»å‹ï¼Œè§£æå…¶ä¸­ç”¨åˆ°çš„ä¸­é—´ç»“æœ

```c
switch (cur->rtype.op) {
  case 0b0000: { RTYPE(cur); R[rt]   = R[rs];   pc++; break; }
  case 0b0001: { RTYPE(cur); R[rt]  += R[rs];   pc++; break; }
  case 0b1110: { MTYPE(cur); R[0]    = M[addr]; pc++; break; }
  case 0b1111: { MTYPE(cur); M[addr] = R[0];    pc++; break; }
  // ...
}
```

----

å®é™…ä¸Šnemuä»£ç çš„å®ç°<font color="red">æ€æƒ³</font>æ˜¯ç±»ä¼¼çš„

---

# (1) æ¨¡æ‹Ÿx86è®¡ç®—æœºçš„çŠ¶æ€

åœ¨yemuä¸­ï¼Œè®¡ç®—æœºçš„çŠ¶æ€æ˜¯ç”±(pc, R, M)å†³å®šçš„

* `u8 pc, regs[NREG], mem[NMEM]`

åœ¨nemuä¸­ï¼Œè®¡ç®—æœºçŠ¶æ€ç”±(cpu)

* å¯„å­˜å™¨åœ¨`CPU_state`ä¸­(åŒ…å«eip)ï¼Œå†…å­˜åˆ™æ˜¯`pmem[PMEM_SIZE]` 

----

æ¨¡æ‹Ÿå™¨æ¯æ¬¡æ‰§è¡Œä¸€æ¡æŒ‡ä»¤

```cassandra
void exec_wrapper(bool print_flag) {
  decoding.seq_eip = cpu.eip;
  exec_real(&decoding.seq_eip);
  update_eip();
}
```

* decodingå°±æ˜¯CPUçš„å†…éƒ¨çŠ¶æ€(ç›¸å½“äºyemuä¸­çš„rs, rt, ...)

---

# (2) è§£é‡Šæ‰§è¡ŒæŒ‡ä»¤

éš¾é¢˜ï¼š<font color="red">å‹æ ¹å°±æ²¡æœ‰exec_real()å•Š</font>ï¼æˆ‘grepäº†ï¼ŒçœŸçš„æ²¡æœ‰å•Š

--

count: false

----

å…¶å®å®ƒçš„ä»£ç å°±åœ¨ä¸è¿œå¤„ï¼š

```c
#define make_EHelper(name) \
  void concat(exec_, name) (vaddr_t *eip)
make_EHelper(real) {
  uint32_t opcode = instr_fetch(eip, 1);
  decoding.opcode = opcode;
  set_width(opcode_table[opcode].width);
  idex(eip, &opcode_table[opcode]);
}
```

è¿™äº›å®å±•å¼€å·²ç»å¾ˆå¤§ç¨‹åº¦å½±å“äº†æˆ‘é˜…è¯»ç†è§£äº†

* åŸåˆ™ï¼š<font color="red">å½“ä½ æ„Ÿåˆ°ä¸çˆ½æ—¶ï¼Œä¸€å®šæœ‰è§£å†³åŠæ³•</font>
* åŠ¨è„‘ç­‹ã€STFW

---

# (3) Hacking the Makefile

nemuçš„ç¼–è¯‘æ–¹å¼å’Œyemuéå¸¸ç±»ä¼¼ï¼Œæºä»£ç æ˜¯è¿™æ ·ç¼–è¯‘çš„ï¼š

```makefile
$(OBJ_DIR)/%.o: src/%.c:
	@$(CC) $(CFLAGS) -c -o $@ $<
```

> RTFM: è¿™äº›å¥‡æ€ªçš„å˜é‡éƒ½æ˜¯â€œautomatic variables (Manual 10.5.3)â€ï¼Œ`$@`æ˜¯targetï¼Œ`$<`æ˜¯ç¬¬ä¸€ä¸ªprerequisite

----

æ—¢ç„¶å¯ä»¥ç¼–è¯‘ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥<font color="red">é¢„å¤„ç†</font>ï¼Œæ·»åŠ ä¸€ä¸ªå‘½ä»¤ï¼š

```makefile
@$(CC) $(INCLUDES) -E $< | grep -ve '^#' | bcpp > $(basename $@).i
```

ç¼–è¯‘çš„åŒæ—¶ä¹Ÿç”Ÿæˆé¢„å¤„ç†çš„ç»“æœï¼Œè¿™é‡Œå°±èƒ½æ‰¾åˆ°exec_realçš„å®å±•å¼€ç»“æœäº† (bcppçš„é£æ ¼å¯ä»¥å®šåˆ¶)

---

# (4) å–æŒ‡ä»¤

`exec_real`é¦–å…ˆæ˜¯å¾—åˆ°opcodeçš„ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œè€Œä¸”ä¼šè·³è¿‡è¿™ä¸ªå­—èŠ‚ï¼š

```c
static inline uint32_t instr_fetch(vaddr_t *eip, int len) {
  uint32_t instr = vaddr_read(*eip, len);
  (*eip) += len;
  return instr;
}
uint32_t opcode = instr_fetch(eip, 1);
```

ç„¶åè®¡ç®—å‡º**æ“ä½œæ•°**çš„å®½åº¦ï¼š

```c
decoding.opcode = opcode;
set_width(opcode_table[opcode].width);
```

ç„¶åç»§ç»­è¯‘ç æ‰§è¡Œæ‰§è¡Œï¼š

```c
idex(eip, &opcode_table[opcode]);
```

---

# (5) è¯‘ç ã€æ‰§è¡Œ

```c
static inline void idex(vaddr_t *eip, opcode_entry *e) {
  if (e->decode) e->decode(eip);
  e->execute(eip);
}
```

çœ‹ä¸€çœ¼å°±æ˜ç™½çš„ä»£ç ï¼Œä¸é”™

----

è·³è½¬è¡¨ï¼š`opcode_table`ä½¿ç”¨ç»“æ„ä½“æ•°ç»„åˆå§‹åŒ–ï¼Œå‰ä¸¤ä¸ªæˆå‘˜æ˜¯å‡½æ•°æŒ‡é’ˆ (XHelper)ï¼Œç¬¬ä¸‰ä¸ªæˆå‘˜æ˜¯widthï¼š

```c
opcode_entry opcode_table[512] = {
  { NULL, inv, 0 },
  ...
  { decode_I2E, exec_gp1, 0 },
  ...
}
```

---

# (6) è¯‘ç ã€æ‰§è¡Œ (cont'd)

nemuçš„æ¡†æ¶ä¸yemuæœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ (decode, execute, update pc)ï¼Œä½†æ¢äº†ä¸€ç§æ–¹å¼

```c
/* nemu - è·³è½¬è¡¨ */
opcode_entry opcode_table[512] = { ...
  { decode_I2E, exec_gp1, 0 },     ... }
/* yemu - switch/case */
case 0b0000:
  { RTYPE(cur); R[rt] = R[rs]; pc++; break; }
```

--

count: false

----

å‰©ä¸‹çš„äº‹æƒ…ï¼š<font color="red">æŠ„æ‰‹å†Œ</font>

* æ ¹æ®æ‰‹å†Œçš„è§„å®šï¼Œå†™å‡ºæ¯æ¡æŒ‡ä»¤çš„ä»£ç å°±å®Œäº‹äº†
* å¾ˆå¿«ä½ å°±ä¼šå‘ç°ï¼šä»£ç é£æ ¼å’Œæ¶æ„å¯¹ç»´æŠ¤æ€§æœ‰å·¨å¤§å½±å“
* å­¦ä¹ ä¸€ä¸‹nemuä¸­çš„åšæ³•ï¼Œä½ ä¼šæœ‰æ”¶è·çš„

---

# å…«å¦ï¼šé¢å‘copy-pasteçš„ç¼–ç¨‹

PAåˆšå¼€å§‹å‡ºç°çš„æ—¶å€™ï¼Œå¤§å®¶ä¸ç”±è‡ªä¸»åœ°å†™å‡ºå¦‚ä¸‹ä»£ç ï¼š

```c
if (opcode == XX) { ... }
else if (opcode == XX) { ... }
...
```

----

è€Œä»£ç ä¹‹ä¸­æœ‰å¾ˆå¤šå…¬å…±çš„éƒ¨åˆ†ï¼Œäºæ˜¯ï¼š

1. å¥½åŠï¼Œå…ˆ.red[å¤åˆ¶ç²˜è´´]ä¸€ä»½å†™ç€å†è¯´
2. ä¹‹åå‘ç°å¥½åƒå†™ä¸ªå‡½æ•°æ›´å¥½ï¼Œä½†å·²ç»å†™äº†å‡ ä¸ªäº†å¥½éº»çƒ¦å•Šâ€¦â€¦
3. å¤åˆ¶äº†20ä»½ä»¥åå‘ç°æœ‰ä¸ªåœ°æ–¹è¦æ”¹â€¦â€¦.red[ç„¶åæœ‰ä¸ªæ¼äº†] ğŸ’¥

----

ä¸å¬è¯çš„ï¼Œä½ ä»¬ä¼šåƒè‹¦å¤´çš„

---

# Happy Hacking!

>  è¿™é‡Œè¦å†æ¬¡å¼ºè°ƒ, ä½ åŠ¡å¿…é€šè¿‡i386æ‰‹å†Œæ¥æŸ¥é˜…æŒ‡ä»¤çš„åŠŸèƒ½, .red[ä¸èƒ½æƒ³å½“ç„¶].
>
> æ‰‹å†Œä¸­ç»™å‡ºäº†æŒ‡ä»¤åŠŸèƒ½çš„å®Œæ•´æè¿°(åŒ…æ‹¬åšä»€ä¹ˆäº‹, æ€ä¹ˆåšçš„, æœ‰ä»€ä¹ˆå½±å“),
>
> ä¸€å®šè¦ä»”ç»†é˜…è¯»å…¶ä¸­çš„æ¯ä¸€ä¸ªå•è¯, å¯¹æŒ‡ä»¤åŠŸèƒ½ç†è§£é”™è¯¯å’Œé—æ¼éƒ½ä¼šç»™ä»¥åçš„è°ƒè¯•å¸¦æ¥å·¨å¤§çš„éº»çƒ¦. 

</textarea>

<script src="../static/js/remark-latest.min.js"></script>

<script>
  var slideshow = remark.create();
</script>

    <script>
      $(function () {
        $('[data-toggle="tooltip"]').tooltip()
      })

      $("math").each(function() {
        var tex = $(this).text();
        var html = katex.renderToString(tex, {
          displayMode: $(this).attr('class') == 'block-math',
          throwOnError: false
        });
        $(this).replaceWith(html);
      });

      function get_token() {
        var match = document.cookie.match(new RegExp('(^| )token=([^;]+)'));
        if (match) return match[2];
        else return "";
      }

      var token = get_token();
      var hint = "token", box = $("#token-input");

      if (token == "") { box.val(hint); }
      else { box.val(token); }

      function login() {
        var token = box.val()
        document.cookie = 'token=' + token + '; expires=Fri, 31 Dec 9999 23:59:59 GMT;';
        if (token == '') {
          box.val(hint);
        }
      }
    </script>
  </body>
</html>